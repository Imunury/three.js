<!DOCTYPE html>
<html>
    <head>

        <title>3D Water Simulation</title>
        <style>
        body { margin: 0; }
        canvas { display: block; }
    </style>
    </head>
    <body>

        <script type="module">
            import * as THREE from 'https://unpkg.com/three/build/three.module.js';

            const scene = new THREE.Scene();
            const camera = new THREE.PerspectiveCamera(75, window.innerWidth / window.innerHeight, 0.1, 1000);
            const renderer = new THREE.WebGLRenderer();
            renderer.setSize(window.innerWidth, window.innerHeight);
            document.body.appendChild(renderer.domElement);
            
            camera.position.set(-15, 10, -10);
            camera.lookAt(new THREE.Vector3(0, 0, 0));
            
            // 물의 표면 생성
            const waterTexture = new THREE.TextureLoader().load('../public/water-7395510_1920.jpg'); // 실제 텍스처 경로로 변경
            waterTexture.wrapS = waterTexture.wrapT = THREE.RepeatWrapping;

            // 사이드 벽 생성
            const sideMaterial = new THREE.MeshBasicMaterial({ map: waterTexture });
            const sideGeometry = new THREE.BoxGeometry(10, 10, 20);
            const side = new THREE.Mesh(sideGeometry, sideMaterial);
            side.position.set(0, -2.5, 10); // 물의 끝 부분에 위치
            scene.add(side);

            
            // 물이 흐르는 효과
            function animate() {
                requestAnimationFrame(animate);

        // 물과 사이드 벽의 텍스처 오프셋을 애니메이션으로 조정
        const offsetSpeed = 0.001; // 텍스처 이동 속도
         waterTexture.offset.y -= offsetSpeed;
        // sideMaterial.map.offset.y -= offsetSpeed; // 사이드 벽 텍스처도 함께 이동

         renderer.render(scene, camera);
            }
            
            animate();
    </script>
    </body>
</html>
